# REST API Layanan Cuci Sepatu (ShoeClean)

## Deskripsi Umum Proyek

Proyek ini adalah implementasi backend RESTful API untuk studi kasus layanan cuci sepatu. Dibangun menggunakan Node.js dan Express.js, API ini menyediakan endpoint untuk operasi CRUD (Create, Read, Update, Delete) dan terhubung ke database Supabase (PostgreSQL) untuk persistensi data. Proyek ini dikonfigurasi untuk deployment ke Vercel.

## Tujuan dan Fitur Utama

### Tujuan

Tujuan utama dari API ini adalah untuk menyediakan sistem backend yang terstruktur untuk mengelola dan melacak data operasional cucian sepatu, yang nantinya dapat dikonsumsi oleh aplikasi front-end seperti dashboard admin atau aplikasi pelanggan.

### Fitur Utama

| Metode | Endpoint | Deskripsi |
| :--- | :--- | :--- |
| `GET` | `/items` | Mengambil seluruh daftar sepatu (mendukung filter by status). |
| `GET` | `/items/:id` | Mengambil detail satu sepatu spesifik berdasarkan ID. |
| `POST` | `/items` | Menambahkan data sepatu baru ke dalam sistem. |
| `PUT` | `/items/:id` | Memperbarui data/status sepatu yang sudah ada (misal: dari 'Dicuci' menjadi 'Selesai'). |
| `DELETE` | `/items/:id` | Menghapus data sepatu dari database (misal: setelah diambil pelanggan). |

## Struktur Data

Data disimpan dalam tabel `items` di database Supabase. Penggunaan `BIGINT` sebagai *primary key* yang digenerasi otomatis adalah default yang efisien dari Supabase.

| Kolom | Tipe Data | Deskripsi |
| :--- | :--- | :--- |
| `id` | `BIGINT` (Primary Key) | ID unik numerik yang digenerasi otomatis oleh Supabase (`IDENTITY`). |
| `created_at` | `timestamptz` | Waktu dan tanggal kapan data pertama kali dibuat. |
| `nama` | `text` | Nama atau deskripsi singkat sepatu (misal: "Nike Air Force 1"). |
| `status` | `text` | Status progres pencucian (contoh: `Sedang Dicuci`, `Selesai`). |
| `tanggalMasuk` | `date` | Tanggal saat sepatu diterima oleh layanan cuci. |
| `tanggalSelesai` | `date` | Tanggal saat proses pencucian selesai (bisa `NULL`). |

## Contoh Request dan Response

### 1. Membuat Item Baru (POST)

Menambahkan data cucian sepatu baru.

- **Endpoint:** `POST /items`
- **Request Body:**
  ```json
  {
    "nama": "Adidas Samba",
    "status": "Sedang Dicuci",
    "tanggalMasuk": "2025-10-24"
  }
- **Response Sukses (201 Created):**
  ```json
  {
  "message": "Data sepatu berhasil ditambahkan.",
  "data": {
    "id": 1,
    "created_at": "2025-10-24T10:30:00Z",
    "nama": "Adidas Samba",
    "status": "Sedang Dicuci",
    "tanggalMasuk": "2025-10-24",
    "tanggalSelesai": null
    }
  }

### 2. Mendapatkan Semua Item (GET)

Mengambil seluruh daftar data cucian.

- **Endpoint:** `GET /items`
- **Response Sukses (200 OK):**
  ```json
  [
    {
    "id": 1,
    "created_at": "2025-10-24T10:30:00Z",
    "nama": "Adidas Samba",
    "status": "Sedang Dicuci",
    "tanggalMasuk": "2025-10-24",
    "tanggalSelesai": null
    }
  ]

### 3. Memilih Item Berdasarkan Status (READ)

Mengambil daftar data cucian yang statusnya 'Selesai'.

- **Endpoint:** `GET /items?status=Selesai`
- **Response Sukses (200 OK):**
  ```json
  [
    {
    "id": 2,
    "nama": "Nike Air Max",
    "status": "Selesai"
    }
  ]

### 4. Memperbarui Item (PUT)

Mengubah status item dengan `id` 1 menjadi 'Selesai'.

- **Endpoint:** `PUT /items/1`
- **Request Body:**
  ```json
  {
  "status": "Selesai",
  "tanggalSelesai": "2025-10-25"
  }
- **Response Sukses (200 OK):**
  ```json
  {
  "message": "Status sepatu berhasil diperbarui.",
  "data": {
    "id": 1,
    "nama": "Adidas Samba",
    "status": "Selesai",
    "tanggalMasuk": "2025-10-24",
    "tanggalSelesai": "2025-10-25"
    }
  }

### 5. Menghapus Item (DELETE)

Menghapus data item dengan `id` 1.

- **Endpoint:** `DELETE /items/1`
- **Response Sukses (200 OK):**
  ```json
  {
  "message": "Data sepatu berhasil dihapus."
  }

## Langkah Instalasi dan Cara Menjalankan API

### 1. Prasyarat: Konfigurasi Database (Supabase)

Sebelum menjalankan API, Anda harus menyiapkan database di Supabase.

1. Buka SQL Editor di dashboard Supabase Anda.
2. Jalankan skrip SQL berikut untuk membuat tabel `items` dengan kolom yang benar (menggunakan tanda kutip ganda untuk menjaga case-sensitivity).
   ```SQL
   CREATE TABLE items (
   "id" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
   "created_at" TIMESTAMPTZ DEFAULT now() NOT NULL,
   "nama" TEXT NOT NULL,
   "status" TEXT NOT NULL,
   "tanggalMasuk" DATE NOT NULL,
   "tanggalSelesai" DATE
   );
   ALTER TABLE items ENABLE ROW LEVEL SECURITY;
   CREATE POLICY "Allow public CRUD"
   ON items
   FOR ALL
   TO anon
   USING (true)
   WITH CHECK (true);

### 2. Instalasi Lokal

1. Clone Repository: Buka terminal Anda dan jalankan:
   ```Bash
   git clone [https://github.com/URL_REPO_ANDA/NAMA_REPO.git](https://github.com/URL_REPO_ANDA/NAMA_REPO.git)
   cd NAMA_REPO
2. Install Dependencies: Instal semua package yang dibutuhkan:
   ```Bash
   npm install

3. Konfigurasi Environment Variables: Buat file `.env` di direktori utama. Salin format di bawah dan isi dengan kredensial Supabase Anda (dari `Project Settings > API`).
   ```
   SUPABASE_URL=URL_PROYEK_SUPABASE_ANDA
   SUPABASE_KEY=KUNCI_ANON_PUBLIC_ANDA
4. Jalankan Server Lokal:
   ```Bash
   npm run dev
5. API akan berjalan di `http://localhost:3000`.

## Link Deploy (Vercel)
https://vercel.com/howards-projects-bfcc7b95/responsi-mod-1-howard-amadeus-tjong/Dh2v472L6CP1dVexYT29zxMZu3Kv
